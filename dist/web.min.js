var myApp=angular.module("myApp",["ui.router","ui.sortable","bw.paging","ngSanitize","moment-picker","LocalStorageModule","angular-sha1"]);myApp.config(["$stateProvider","$urlRouterProvider","$httpProvider","localStorageServiceProvider",function(e,t,a,n){a.interceptors.push("HttpInterceptor"),t.otherwise("/login"),e.state("login",{url:"/login",templateUrl:"./templates/login/login.html"}).state("realtime",{url:"/realtime",templateUrl:"./templates/realtime/realtime.html"}).state("lottery",{url:"/lottery",templateUrl:"./templates/lottery/lottery.html"}).state("lottery.list",{url:"/list",templateUrl:"./templates/lottery/lotterylist.html",controller:"lotterylistCtrl"}).state("betshow",{url:"/betshow",templateUrl:"./templates/betshow/betshow.html"}).state("robot",{url:"/robot",templateUrl:"./templates/robot/robot.html"}).state("robot.status",{url:"/status",templateUrl:"./templates/robot/status.html"}).state("robot.odds",{url:"/odds",templateUrl:"./templates/robot/odds.html"}).state("player",{url:"/player",templateUrl:"./templates/player/player.html"}).state("player.report",{url:"/report",templateUrl:"./templates/player/playerport.html"}).state("player.list",{url:"/list",templateUrl:"./templates/player/playerlist.html"}).state("playerDetail",{url:"/playerDetail/:memberId",templateUrl:"./templates/player/playerdetail.html"}).state("reportDetail",{url:"/reportDetail/:racingNum&:count",templateUrl:"./templates/bet/betDetail.html"}).state("integral",{url:"/integral",templateUrl:"./templates/integral/integral.html"}).state("integral.apply",{url:"/apply",templateUrl:"./templates/integral/apply.html"}).state("integral.list",{url:"/list",templateUrl:"./templates/integral/list.html"}).state("integralDetail",{url:"/integralDetail/?item1&item2",templateUrl:"./templates/integral/integralDetail.html"}).state("profitlose",{url:"/profitlose",templateUrl:"./templates/profitlose/profitlose.html"}).state("profitlose.other",{url:"/profitloseOther",templateUrl:"./templates/profitlose/other.html"}).state("bet",{url:"/bet",templateUrl:"./templates/bet/bet.html"}).state("bet.otherbet",{url:"/otherBet",templateUrl:"./templates/bet/other.html"}).state("betDetail",{url:"/betDetail/:type&:category",templateUrl:"./templates/bet/betDetail.html"}).state("users",{url:"/users",templateUrl:"./templates/users/users.html"}).state("users.all",{url:"/allUser",templateUrl:"./templates/users/all.html"})}]),myApp.run(["$state","$rootScope","$timeout","localStorageService",function(e,t,a,n){t.$on("$stateChangeStart",function(o,i,r,s,u,l){a.cancel(t.yztimer),a.cancel(t.timer),"login"!=i.name&&(n.get("username")||(o.preventDefault(),e.go("login")))})}]),myApp.controller("userLoginedCtrl",["$scope","$state","$rootScope","localStorageService",function(e,t,a,n){e.username=n.get("username"),e.logout=function(){n.clearAll(),t.go("login")}}]),myApp.controller("loginCtrl",["$scope","$http","$state","$rootScope","localStorageService",function(e,t,a,n,o){return o.isSupported?o.get("username")?(n.username=o.get("username"),void a.go("realtime")):void(e.loginSubmit=function(){var i={userName:e.username,password:e.password};t({url:"http://60.205.163.65:8080/user/web/login",method:"post",headers:{"Content-Type":"application/json;charset=utf-8;"},data:i}).then(function(t){var i=t.data;"SUCCESS"==i.result?(n.username=e.username,o.isSupported?(o.set("Accesskey",i.data.accessKey),o.set("secretKey",i.data.securityKey),o.set("username",e.username)):alert("您的浏览器版本太低，请升级高版本浏览器"),a.go("realtime")):alert("用户名或密码有误请重试")},function(e){})}):void alert("您的浏览器版本太低，请升级高版本浏览器")}]),myApp.controller("realtimeCtrl",["$scope","$rootScope","$http","$timeout","$filter","$state","encrypt","localStorageService",function(e,t,a,n,o,i,r,s){function u(t){e.table1=[[{key:"大",value:1.988,money:t.rankingStakeList[0].big},{key:"大",value:1.988,money:t.rankingStakeList[1].big},{key:"大",value:1.988,money:t.rankingStakeList[2].big},{key:"大",value:1.988,money:t.rankingStakeList[3].big},{key:"大",value:1.988,money:t.rankingStakeList[4].big},{key:"大",value:1.988,money:t.rankingStakeList[5].big},{key:"大",value:1.988,money:t.rankingStakeList[6].big},{key:"大",value:1.988,money:t.rankingStakeList[7].big},{key:"大",value:1.988,money:t.rankingStakeList[8].big},{key:"大",value:1.988,money:t.rankingStakeList[9].big}],[{key:"小",value:1.988,money:t.rankingStakeList[0].small},{key:"小",value:1.988,money:t.rankingStakeList[1].small},{key:"小",value:1.988,money:t.rankingStakeList[2].small},{key:"小",value:1.988,money:t.rankingStakeList[3].small},{key:"小",value:1.988,money:t.rankingStakeList[4].small},{key:"小",value:1.988,money:t.rankingStakeList[5].small},{key:"小",value:1.988,money:t.rankingStakeList[6].small},{key:"小",value:1.988,money:t.rankingStakeList[7].small},{key:"小",value:1.988,money:t.rankingStakeList[8].small},{key:"小",value:1.988,money:t.rankingStakeList[9].small}],[{key:"单",value:1.988,money:t.rankingStakeList[0].odd},{key:"单",value:1.988,money:t.rankingStakeList[1].odd},{key:"单",value:1.988,money:t.rankingStakeList[2].odd},{key:"单",value:1.988,money:t.rankingStakeList[3].odd},{key:"单",value:1.988,money:t.rankingStakeList[4].odd},{key:"单",value:1.988,money:t.rankingStakeList[5].odd},{key:"单",value:1.988,money:t.rankingStakeList[6].odd},{key:"单",value:1.988,money:t.rankingStakeList[7].odd},{key:"单",value:1.988,money:t.rankingStakeList[8].odd},{key:"单",value:1.988,money:t.rankingStakeList[9].odd}],[{key:"双",value:1.988,money:t.rankingStakeList[0].even},{key:"双",value:1.988,money:t.rankingStakeList[1].even},{key:"双",value:1.988,money:t.rankingStakeList[2].even},{key:"双",value:1.988,money:t.rankingStakeList[3].even},{key:"双",value:1.988,money:t.rankingStakeList[4].even},{key:"双",value:1.988,money:t.rankingStakeList[5].even},{key:"双",value:1.988,money:t.rankingStakeList[6].even},{key:"双",value:1.988,money:t.rankingStakeList[7].even},{key:"双",value:1.988,money:t.rankingStakeList[8].even},{key:"双",value:1.988,money:t.rankingStakeList[9].even}],[{key:"龙",value:1.988,money:t.commonStake.firstUp},{key:"龙",value:1.988,money:t.commonStake.secondUp},{key:"龙",value:1.988,money:t.commonStake.thirdUp},{key:"龙",value:1.988,money:t.commonStake.fourthUp},{key:"龙",value:1.988,money:t.commonStake.fifthUp},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:"虎",value:1.988,money:t.commonStake.firstDowm},{key:"虎",value:1.988,money:t.commonStake.secondDowm},{key:"虎",value:1.988,money:t.commonStake.thirdDowm},{key:"虎",value:1.988,money:t.commonStake.fourthDowm},{key:"虎",value:1.988,money:t.commonStake.fifthDowm},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:1,value:9.94,money:t.appointStakeList[0].first},{key:1,value:9.94,money:t.appointStakeList[0].second},{key:1,value:9.94,money:t.appointStakeList[0].third},{key:1,value:9.94,money:t.appointStakeList[0].fourth},{key:1,value:9.94,money:t.appointStakeList[0].fifth},{key:1,value:9.94,money:t.appointStakeList[0].sixth},{key:1,value:9.94,money:t.appointStakeList[0].seventh},{key:1,value:9.94,money:t.appointStakeList[0].eighth},{key:1,value:9.94,money:t.appointStakeList[0].ninth},{key:1,value:9.94,money:t.appointStakeList[0].tenth}],[{key:2,value:9.94,money:t.appointStakeList[1].first},{key:2,value:9.94,money:t.appointStakeList[1].second},{key:2,value:9.94,money:t.appointStakeList[1].third},{key:2,value:9.94,money:t.appointStakeList[1].fourth},{key:2,value:9.94,money:t.appointStakeList[1].fifth},{key:2,value:9.94,money:t.appointStakeList[1].sixth},{key:2,value:9.94,money:t.appointStakeList[1].seventh},{key:2,value:9.94,money:t.appointStakeList[1].eighth},{key:2,value:9.94,money:t.appointStakeList[1].ninth},{key:2,value:9.94,money:t.appointStakeList[1].tenth}],[{key:3,value:9.94,money:t.appointStakeList[2].first},{key:3,value:9.94,money:t.appointStakeList[2].second},{key:3,value:9.94,money:t.appointStakeList[2].third},{key:3,value:9.94,money:t.appointStakeList[2].fourth},{key:3,value:9.94,money:t.appointStakeList[2].fifth},{key:3,value:9.94,money:t.appointStakeList[2].sixth},{key:3,value:9.94,money:t.appointStakeList[2].seventh},{key:3,value:9.94,money:t.appointStakeList[2].eighth},{key:3,value:9.94,money:t.appointStakeList[2].ninth},{key:3,value:9.94,money:t.appointStakeList[2].tenth}],[{key:4,value:9.94,money:t.appointStakeList[3].first},{key:4,value:9.94,money:t.appointStakeList[3].second},{key:4,value:9.94,money:t.appointStakeList[3].third},{key:4,value:9.94,money:t.appointStakeList[3].fourth},{key:4,value:9.94,money:t.appointStakeList[3].fifth},{key:4,value:9.94,money:t.appointStakeList[3].sixth},{key:4,value:9.94,money:t.appointStakeList[3].seventh},{key:4,value:9.94,money:t.appointStakeList[3].eighth},{key:4,value:9.94,money:t.appointStakeList[3].ninth},{key:4,value:9.94,money:t.appointStakeList[3].tenth}],[{key:5,value:9.94,money:t.appointStakeList[4].first},{key:5,value:9.94,money:t.appointStakeList[4].second},{key:5,value:9.94,money:t.appointStakeList[4].third},{key:5,value:9.94,money:t.appointStakeList[4].fourth},{key:5,value:9.94,money:t.appointStakeList[4].fifth},{key:5,value:9.94,money:t.appointStakeList[4].sixth},{key:5,value:9.94,money:t.appointStakeList[4].seventh},{key:5,value:9.94,money:t.appointStakeList[4].eighth},{key:5,value:9.94,money:t.appointStakeList[4].ninth},{key:5,value:9.94,money:t.appointStakeList[4].tenth}],[{key:6,value:9.94,money:t.appointStakeList[5].first},{key:6,value:9.94,money:t.appointStakeList[5].second},{key:6,value:9.94,money:t.appointStakeList[5].third},{key:6,value:9.94,money:t.appointStakeList[5].fourth},{key:6,value:9.94,money:t.appointStakeList[5].fifth},{key:6,value:9.94,money:t.appointStakeList[5].sixth},{key:6,value:9.94,money:t.appointStakeList[5].seventh},{key:6,value:9.94,money:t.appointStakeList[5].eighth},{key:6,value:9.94,money:t.appointStakeList[5].ninth},{key:6,value:9.94,money:t.appointStakeList[5].tenth}],[{key:7,value:9.94,money:t.appointStakeList[6].first},{key:7,value:9.94,money:t.appointStakeList[6].second},{key:7,value:9.94,money:t.appointStakeList[6].third},{key:7,value:9.94,money:t.appointStakeList[6].fourth},{key:7,value:9.94,money:t.appointStakeList[6].fifth},{key:7,value:9.94,money:t.appointStakeList[6].sixth},{key:7,value:9.94,money:t.appointStakeList[6].seventh},{key:7,value:9.94,money:t.appointStakeList[6].eighth},{key:7,value:9.94,money:t.appointStakeList[6].ninth},{key:7,value:9.94,money:t.appointStakeList[6].tenth}],[{key:8,value:9.94,money:t.appointStakeList[7].first},{key:8,value:9.94,money:t.appointStakeList[7].second},{key:8,value:9.94,money:t.appointStakeList[7].third},{key:8,value:9.94,money:t.appointStakeList[7].fourth},{key:8,value:9.94,money:t.appointStakeList[7].fifth},{key:8,value:9.94,money:t.appointStakeList[7].sixth},{key:8,value:9.94,money:t.appointStakeList[7].seventh},{key:8,value:9.94,money:t.appointStakeList[7].eighth},{key:8,value:9.94,money:t.appointStakeList[7].ninth},{key:8,value:9.94,money:t.appointStakeList[7].tenth}],[{key:9,value:9.94,money:t.appointStakeList[8].first},{key:9,value:9.94,money:t.appointStakeList[8].second},{key:9,value:9.94,money:t.appointStakeList[8].third},{key:9,value:9.94,money:t.appointStakeList[8].fourth},{key:9,value:9.94,money:t.appointStakeList[8].fifth},{key:9,value:9.94,money:t.appointStakeList[8].sixth},{key:9,value:9.94,money:t.appointStakeList[8].seventh},{key:9,value:9.94,money:t.appointStakeList[8].eighth},{key:9,value:9.94,money:t.appointStakeList[8].ninth},{key:9,value:9.94,money:t.appointStakeList[8].tenth}],[{key:10,value:9.94,money:t.appointStakeList[9].first},{key:10,value:9.94,money:t.appointStakeList[9].second},{key:10,value:9.94,money:t.appointStakeList[9].third},{key:10,value:9.94,money:t.appointStakeList[9].fourth},{key:10,value:9.94,money:t.appointStakeList[9].fifth},{key:10,value:9.94,money:t.appointStakeList[9].sixth},{key:10,value:9.94,money:t.appointStakeList[9].seventh},{key:10,value:9.94,money:t.appointStakeList[9].eighth},{key:10,value:9.94,money:t.appointStakeList[9].ninth},{key:10,value:9.94,money:t.appointStakeList[9].tenth}]],e.table2=[[{key:"3",value:"41",money:t.commonStake.firstSecond3},{key:"4",value:"41",money:t.commonStake.firstSecond4},{key:"5",value:"21",money:t.commonStake.firstSecond5},{key:"6",value:"21",money:t.commonStake.firstSecond6}],[{key:"7",value:"12",money:t.commonStake.firstSecond7},{key:"8",value:"12",money:t.commonStake.firstSecond8},{key:"9",value:"10.3",money:t.commonStake.firstSecond9},{key:"10",value:"10.3",money:t.commonStake.firstSecond10}],[{key:"11",value:"8.3",money:t.commonStake.firstSecond11},{key:"12",value:"10.3",money:t.commonStake.firstSecond12},{key:"13",value:"10.3",money:t.commonStake.firstSecond13},{key:"14",value:"12",money:t.commonStake.firstSecond14}],[{key:"15",value:"12",money:t.commonStake.firstSecond15},{key:"16",value:"21",money:t.commonStake.firstSecond16},{key:"17",value:"21",money:t.commonStake.firstSecond17},{key:"18",value:"41",money:t.commonStake.firstSecond18}],[{key:"19",value:"12",money:t.commonStake.firstSecond19},{key:"",value:""},{key:"",value:""},{key:"",value:""}],[{key:"冠亚大",value:"2",money:t.commonStake.firstSecondBig},{key:"冠亚小",value:"1.63",money:t.commonStake.firstSecondSmall},{key:"冠亚单",value:"1.63",money:t.commonStake.firstSecondOdd},{key:"冠亚双",value:"2",money:t.commonStake.firstSecondOdd}]]}function l(e,t){var a=r.getAuthor(e,t,s.get("secretKey"));s.set("Authorization",a),s.set("Accesskey",s.get("Accesskey"))}function y(){l("http://60.205.163.65:8080/user/stake/configer/info",null),a({url:"http://60.205.163.65:8080/user/stake/configer/info",method:"get",dataType:"json"}).then(function(t){var a=t.data,n=a.data;return e.racingNum=n.racingNum,e.stopTime=o("toMinSec")(n.endStakeTime),e.startTime=o("toMinSec")(n.startRacingTime),e.todayIncome=n.todayIncome,e.preResult=n.preResult,e.nowStatus=n.stageName,e.preRacingNum=n.preRacingNum,e.money=a.data.totalRacingStakeAmount,u(n.stakeVo),"ERROR"===a.result?(e.modifyNotice="",e.tableDisabled=!0,e.toast=!0,e.toastMessage="暂无比赛结果",e.mask=!1,e.computering=!1,void(e.modifying=!1)):"SUCCESS"===a.result&&4==a.data.stage?(e.modifyNotice="",e.tableDisabled=!0,e.toast=!1,e.mask=!1,e.computering=!1,void(e.modifying=!1)):void("SUCCESS"===a.result&&1==a.data.stage&&(e.toast=!1,e.mask=!1,e.computering=!1,e.modifying=!1,e.tableDisabled=!1))},function(e){}),t.timer=n(y,1e3)}e.table1=[],e.table2=[],e.sortableOptions={axis:"x"},n.cancel(t.timer),t.timer=n(y,1e3)}]),myApp.controller("lotterylistCtrl",["$scope","$http","localStorageService","encrypt",function(e,t,a,n){function o(e,t){var o=n.getAuthor(e,t,a.get("secretKey"));a.set("Authorization",o),a.set("Accesskey",a.get("Accesskey"))}function i(){o("http://60.205.163.65:8080/user/racing/result?page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/user/racing/result?page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="开奖列表页",e.queryPage=1,i(),e.goPage=function(t){e.queryPage=t,i()}}]),myApp.controller("betshowCtrl",["$scope","$rootScope","$http","$timeout","$filter","$state","$location","encrypt","localStorageService","baseData","initSendData","makeSendData",function(e,t,a,n,o,i,r,s,u,l,y,m){function c(e,t){var a=s.getAuthor(e,t,u.get("secretKey"));u.set("Authorization",a),u.set("Accesskey",u.get("Accesskey"))}function k(){c("http://60.205.163.65:8080/user/stake/configer/info",null),a({url:"http://60.205.163.65:8080/user/stake/configer/info",method:"get",dataType:"json"}).then(function(t){var a=t.data,n=a.data;return e.racingNum=n.racingNum,e.stopTime=o("toMinSec")(n.endStakeTime),e.startTime=o("toMinSec")(n.startRacingTime),e.todayIncome=n.todayIncome,e.preResult=n.preResult,e.stage=n.stage,e.nowStatus=n.stageName,e.preRacingNum=n.preRacingNum,"ERROR"===a.result?(e.modifyNotice="",e.tableDisabled=!0,e.toast=!0,e.toastMessage="暂无比赛结果",e.mask=!1,e.computering=!1,void(e.modifying=!1)):"SUCCESS"===a.result&&4==a.data.stage?(e.modifyNotice="",e.tableDisabled=!0,e.toast=!1,e.mask=!1,e.computering=!1,void(e.modifying=!1)):void("SUCCESS"===a.result&&1==a.data.stage&&(e.toast=!1,e.mask=!1,e.computering=!1,e.modifying=!1,e.tableDisabled=!1))},function(e){}),t.yztimer=n(k,1e3)}e.selectClass=r.path().substr(1),e.sendData=y.init(l.sendData),e.tableOne=l.tab1,e.tableTwo=l.tab2,e.tableThree=l.tab3,e.nowTab="one",e.selectedObj={},e.tabChange=function(t){e.nowTab=t},e.confim=function(){if(1!==e.stage)return void alert("当前阶段不能押注");var t=/^[0-9]*[1-9][0-9]*$/;if(!e.money||!t.test(e.money))return void alert("请输入合法金额，正整数");if(angular.equals({},e.selectedObj))return void alert("您还没有押注");var n=m.makeParams(e.sendData,e.selectedObj,e.money);n.racingNum=e.racingNum,c("http://60.205.163.65:8080/user/stake",n),a({url:"http://60.205.163.65:8080/user/stake",method:"post",data:n}).then(function(t){var a=t.data;"ERROR"==a.result&&alert(a.message),"SUCCESS"==a.result&&(alert("押注成功"),$(".table-box td").removeClass("selected"),e.money="",e.selectedObj={},e.sendData=y.init(l.sendData))},function(){alert("请求失败，请重试或缺失必要内容")})},e.reset=function(){e.money="",e.selectedObj={},e.sendData=y.init(l.sendData)},e.sortableOptions={axis:"x"},n.cancel(t.yztimer),t.yztimer=n(k,1e3)}]),myApp.controller("robotCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("robotStatusCtrl",["$scope","$http","encrypt","localStorageService",function(e,t,a,n){function o(e,t){var o=a.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",o),n.set("Accesskey",n.get("Accesskey"))}e.text="机器人状态管理",o("http://60.205.163.65:8080/user",null),t({url:"http://60.205.163.65:8080/user",method:"get"}).then(function(t){var a=t.data;"ERROR"==a.result&&alert(a.message),"SUCCESS"==a.result&&(e.hasRobot=a.data.isHaveClient,e.hasExpired=a.data.isClientExpired)},function(){alert("请求失败，请重试或缺失必要内容")}),e.report="1",e.offer=function(){o("http://60.205.163.65:8080/user/robot/enable",{clientIsEnable:"1"==e.report}),t({url:"http://60.205.163.65:8080/user/robot/enable",method:"put",data:{clientIsEnable:"1"==e.report}}).then(function(e){var t=e.data;"ERROR"==t.result&&alert(t.message),"SUCCESS"==t.result&&alert("操作成功")},function(){alert("请求失败，请重试或缺失必要内容")})}}]).controller("robotOddsCtrl",["$scope","$http","encrypt","localStorageService",function(e,t,a,n){function o(e,t){var o=a.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",o),n.set("Accesskey",n.get("Accesskey"))}function i(){o("http://60.205.163.65:8080/user/robot/rate",null),t({url:"http://60.205.163.65:8080/user/robot/rate",method:"get"}).then(function(t){var a=t.data;"ERROR"==a.result&&alert(a.message),"SUCCESS"==a.result&&(e.tableData=a.data,e.currentPage=a.page,e.total=a.totalPage)},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="机器人赔率管理",e.queryKey="",i(),e.mofiy=function(t,a){e.odds="",e.modalTitle=t,e.queryKey=a},e.confirm=function(){return""===e.odds||void 0===e.odds?void alert("赔率不为空"):(e.tableData[e.queryKey]=e.odds,o("http://60.205.163.65:8080/user/robot/rate",e.tableData),void t({url:"http://60.205.163.65:8080/user/robot/rate",method:"put",data:e.tableData}).then(function(e){var t=e.data;return"ERROR"==t.result?void alert(t.message):void("SUCCESS"==t.result&&(alert("修改成功"),i()))},function(){alert("请求失败，请重试或缺失必要内容")}))}}]),myApp.controller("playerCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("playerlistCtrl",["$scope","$http","$timeout","encrypt","localStorageService",function(e,t,a,n,o){function i(e,t){var a=n.getAuthor(e,t,o.get("secretKey"));o.set("Authorization",a),o.set("Accesskey",o.get("Accesskey"))}function r(){t({url:"http://60.205.163.65:8080/user/members?nickname="+e.queryNickName+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="玩家列表管理";var s=null;e.nicklist=!1,e.queryNickName="",e.queryPage="",e.nickSearch=function(n){a.cancel(s),s=a(function(){i("http://60.205.163.65:8080/user/members/nicname?nicName="+e.nickname,null),t({url:"http://60.205.163.65:8080/user/members/nicname?nicName="+e.nickname,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):void("SUCCESS"==a.result&&(e.nicklist=!0,e.listItems=a.data))})},300)},e.listClick=function(t){e.nicklist=!1,e.nickname=t,e.queryNickName=t},e.blur=function(){a(function(){e.nicklist=!1},300)},i("http://60.205.163.65:8080/user/members?nickname="+e.queryNickName+"&page="+e.queryPage,null),r(),e.search=function(){e.queryNickName=e.nickname,i("http://60.205.163.65:8080/user/members?nickname="+e.queryNickName+"&page="+e.queryPage,null),r()},e.goPage=function(t){e.queryPage=t,i("http://60.205.163.65:8080/user/members?nickname="+e.queryNickName+"&page="+e.queryPage,null),r()}}]).controller("playerportCtrl",["$scope","$timeout","$http","encrypt","localStorageService",function(e,t,a,n,o){function i(e,t){var a=n.getAuthor(e,t,o.get("secretKey"));o.set("Authorization",a),o.set("Accesskey",o.get("Accesskey"))}function r(){i("http://60.205.163.65:8080/user/members/income/day?nickName="+e.queryNickName+"&startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,null),a({url:"http://60.205.163.65:8080/user/members/income/day?nickName="+e.queryNickName+"&startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}function s(){i("http://60.205.163.65:8080/user/members/income/racing?nickName="+e.queryNickName+"&startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,null),a({url:"http://60.205.163.65:8080/user/members/income/racing?nickName="+e.queryNickName+"&startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="玩家报表管理";var u=null;e.nicklist=!1,e.queryStartDate="",e.queryEndDate="",e.queryNickName="",e.queryIssue="",e.queryPage="",e.selectActive="byDate",e.nickSearch=function(n){t.cancel(u),u=t(function(){i("http://60.205.163.65:8080/user/members/nicname?nicName="+e.nickname,null),a({url:"http://60.205.163.65:8080/user/members/nicname?nicName="+e.nickname,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):void("SUCCESS"==a.result&&(e.nicklist=!0,e.listItems=a.data))})},300)},e.listClick=function(t){e.nicklist=!1,e.nickname=t,e.queryNickName=t},e.blur=function(){t(function(){e.nicklist=!1},300)},e.searchByDate=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),r()},e.searchByIssue=function(){e.startTimeIssue&&e.endTimeIssue?(e.queryStartDate=new Date(e.startTimeIssue+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTimeIssue+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryIssue=e.issue,s()},e.goPage=function(t){e.queryPage=t,"byDate"==e.selectActive?r():s()},e.reRender=function(t){"date"==t&&(e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTime="",e.endTime="",e.queryPage=1,r()),"issue"==t&&(e.selectActive="byIssue",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTimeIssue="",e.endTimeIssue="",e.issue="",e.queryPage=1,s())}}]).controller("playerDetailCtrl",["$scope","$stateParams","$http","localStorageService","encrypt",function(e,t,a,n,o){function i(e,t){var a=o.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",a),n.set("Accesskey",n.get("Accesskey"))}function r(){i("http://60.205.163.65:8080/user/members/"+e.queryMemberId+"?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&type="+e.queryType+"&page="+e.queryPage,null),a({url:"http://60.205.163.65:8080/user/members/"+e.queryMemberId+"?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&type="+e.queryType+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.queryMemberId=t.memberId,e.queryStartDate="",e.queryEndDate="",e.queryType="",e.queryPage="",e.type="ADD",r(),e.search=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryType=e.type,r()},e.goPage=function(t){e.queryPage=t,r()}}]),myApp.controller("integralCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("applyCtrl",["$scope","$http","encrypt","localStorageService",function(e,t,a,n){function o(e,t){var o=a.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",o),n.set("Accesskey",n.get("Accesskey"))}function i(){o("http://60.205.163.65:8080/user/point",null),t({url:"http://60.205.163.65:8080/user/point",method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.totalPoints=a.data.totalPoints,e.surplusPoints=a.data.userPoints,e.playerPoints=a.data.membersPoints,void r())},function(){alert("请求失败，请重试或缺失必要内容")})}function r(){o("http://60.205.163.65:8080/user/points?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&status="+e.queryStatus+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/user/points?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&status="+e.queryStatus+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="申请积分",e.status="",e.cancelId="",i(),e.queryStatus="",e.queryStartDate="",e.queryEndDate="",e.queryPage="",e.selectOptions=[{key:"UNTREATED",value:"申请中"},{key:"AUDIT",value:"已批准"},{key:"REJECT",value:"已拒绝"},{key:"CANCEL",value:"已取消"}],e.selection=e.selectOptions[0],e.selectChange=function(){e.queryStatus=e.selection.key},e.toModal=function(t,a){"add"==t&&(e.title="新增申请",e.moneyShow=!0,e.status=t,e.money="",e.applyText=""),"cancel"==t&&(e.title="取消申请",e.moneyShow=!1,e.status=t,e.cancelId=a,e.applyText="")},e.confirm=function(){"add"==e.status&&(o("http://60.205.163.65:8080/user/points",{appComment:e.applyText,appPoints:e.money}),t({url:"http://60.205.163.65:8080/user/points",method:"post",data:{appComment:e.applyText,appPoints:e.money}}).then(function(e){var t=e.data;"ERROR"==t.result&&alert(t.message),"SUCCESS"==t.result&&(alert("操作成功"),r())},function(e){alert("请求失败，请重试或缺失必要内容")})),"cancel"==e.status&&(o("http://60.205.163.65:8080/user/points/"+e.cancelId+"/status/cancel",{comments:e.applyText}),t({url:"http://60.205.163.65:8080/user/points/"+e.cancelId+"/status/cancel",method:"put",data:{comments:e.applyText}}).then(function(e){var t=e.data;"ERROR"==t.result&&alert(t.message),"SUCCESS"==t.result&&(alert("操作成功"),r())},function(e){alert("请求失败，请重试或缺失必要内容")}))},e.search=function(){e.queryStatus=e.queryStatus,e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryPage=1,r()},e.goPage=function(t){e.queryPage=t,r()}}]).controller("listCtrl",["$scope","$http","encrypt","localStorageService",function(e,t,a,n){function o(){i("http://60.205.163.65:8080/user/point",null),t({url:"http://60.205.163.65:8080/user/point",method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.totalPoints=a.data.totalPoints,e.surplusPoints=a.data.userPoints,e.playerPoints=a.data.membersPoints,void r())},function(){alert("请求失败，请重试或缺失必要内容")})}function i(e,t){var o=a.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",o),n.set("Accesskey",n.get("Accesskey"))}function r(){i("http://60.205.163.65:8080/user/state?status="+e.queryStatus+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/user/state?status="+e.queryStatus+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(e){alert("请求失败，请重试或缺失必要内容")})}e.text="操作记录",o(),e.status="MANAGER_ADD",e.queryStatus="MANAGER_ADD",e.queryPage=1,e.goPage=function(t){e.queryPage=t,r()},e.change=function(){e.queryStatus=e.status,r()}}]),myApp.controller("profitCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("otherPlCtrl",["$scope","$http","encrypt","localStorageService",function(e,t,a,n){function o(e,t){var o=a.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",o),n.set("Accesskey",n.get("Accesskey"))}function i(){o("http://60.205.163.65:8080/user/income/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/user/income/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}function r(){o("http://60.205.163.65:8080/user/income/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/user/income/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.queryIssue+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="分盘盈亏报表",e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryPage="",e.queryIssue="",i(),e.searchByDate=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),i()},e.searchByIssue=function(){e.startTimeIssue&&e.endTimeIssue?(e.queryStartDate=new Date(e.startTimeIssue+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTimeIssue+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),e.queryIssue=e.issue,r()},e.goPage=function(t){e.queryPage=t,"byDate"==e.selectActive?i():r()},e.reRender=function(t){"date"==t&&(e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTime="",e.endTime="",e.queryPage=1,i()),"issue"==t&&(e.selectActive="byIssue",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTimeIssue="",e.endTimeIssue="",e.issue="",e.queryPage=1,r())}}]),myApp.controller("betCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("otherBetCtrl",["$scope","$http","encrypt","localStorageService",function(e,t,a,n){function o(e,t){var o=a.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",o),n.set("Accesskey",n.get("Accesskey"))}function i(){o("http://60.205.163.65:8080/user/bat/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,null),t({url:"http://60.205.163.65:8080/user/bat/day?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}function r(){o("http://60.205.163.65:8080/user/bat/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.issue+"&page="+e.queryPage,null),
t({url:"http://60.205.163.65:8080/user/bat/racing?startDate="+e.queryStartDate+"&endDate="+e.queryEndDate+"&racingNum="+e.issue+"&page="+e.queryPage,method:"get"}).then(function(t){var a=t.data;return"ERROR"==a.result?void alert(a.message):(e.tableData=a.data,e.currentPage=a.page,void(e.total=a.totalPage))},function(){alert("请求失败，请重试或缺失必要内容")})}e.text="分盘押注报表",e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryPage="",e.issue="",i(),e.searchByDate=function(){e.startTime&&e.endTime?(e.queryStartDate=new Date(e.startTime+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTime+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),i()},e.searchByIssue=function(){e.startTimeIssue&&e.endTimeIssue?(e.queryStartDate=new Date(e.startTimeIssue+" 00:00:00").getTime(),e.queryEndDate=new Date(e.endTimeIssue+" 23:59:59").getTime()):(e.queryStartDate="",e.queryEndDate=""),r()},e.goPage=function(t){e.queryPage=t,"byDate"==e.selectActive?i():r()},e.reRender=function(t){"date"==t&&(e.selectActive="byDate",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTime="",e.endTime="",e.queryPage=1,i()),"issue"==t&&(e.selectActive="byIssue",e.queryStartDate="",e.queryEndDate="",e.queryIssue="",e.startTimeIssue="",e.endTimeIssue="",e.issue="",e.queryPage=1,r())}}]).controller("betDetailCtrl",["$scope","$stateParams","$http","encrypt","localStorageService",function(e,t,a,n,o){function i(e,t){var a=n.getAuthor(e,t,o.get("secretKey"));o.set("Authorization",a),o.set("Accesskey",o.get("Accesskey"))}function r(t){e.table1=[[{key:"大",value:1.988,money:t.rankingStakeList[0].big},{key:"大",value:1.988,money:t.rankingStakeList[1].big},{key:"大",value:1.988,money:t.rankingStakeList[2].big},{key:"大",value:1.988,money:t.rankingStakeList[3].big},{key:"大",value:1.988,money:t.rankingStakeList[4].big},{key:"大",value:1.988,money:t.rankingStakeList[5].big},{key:"大",value:1.988,money:t.rankingStakeList[6].big},{key:"大",value:1.988,money:t.rankingStakeList[7].big},{key:"大",value:1.988,money:t.rankingStakeList[8].big},{key:"大",value:1.988,money:t.rankingStakeList[9].big}],[{key:"小",value:1.988,money:t.rankingStakeList[0].small},{key:"小",value:1.988,money:t.rankingStakeList[1].small},{key:"小",value:1.988,money:t.rankingStakeList[2].small},{key:"小",value:1.988,money:t.rankingStakeList[3].small},{key:"小",value:1.988,money:t.rankingStakeList[4].small},{key:"小",value:1.988,money:t.rankingStakeList[5].small},{key:"小",value:1.988,money:t.rankingStakeList[6].small},{key:"小",value:1.988,money:t.rankingStakeList[7].small},{key:"小",value:1.988,money:t.rankingStakeList[8].small},{key:"小",value:1.988,money:t.rankingStakeList[9].small}],[{key:"单",value:1.988,money:t.rankingStakeList[0].odd},{key:"单",value:1.988,money:t.rankingStakeList[1].odd},{key:"单",value:1.988,money:t.rankingStakeList[2].odd},{key:"单",value:1.988,money:t.rankingStakeList[3].odd},{key:"单",value:1.988,money:t.rankingStakeList[4].odd},{key:"单",value:1.988,money:t.rankingStakeList[5].odd},{key:"单",value:1.988,money:t.rankingStakeList[6].odd},{key:"单",value:1.988,money:t.rankingStakeList[7].odd},{key:"单",value:1.988,money:t.rankingStakeList[8].odd},{key:"单",value:1.988,money:t.rankingStakeList[9].odd}],[{key:"双",value:1.988,money:t.rankingStakeList[0].even},{key:"双",value:1.988,money:t.rankingStakeList[1].even},{key:"双",value:1.988,money:t.rankingStakeList[2].even},{key:"双",value:1.988,money:t.rankingStakeList[3].even},{key:"双",value:1.988,money:t.rankingStakeList[4].even},{key:"双",value:1.988,money:t.rankingStakeList[5].even},{key:"双",value:1.988,money:t.rankingStakeList[6].even},{key:"双",value:1.988,money:t.rankingStakeList[7].even},{key:"双",value:1.988,money:t.rankingStakeList[8].even},{key:"双",value:1.988,money:t.rankingStakeList[9].even}],[{key:"龙",value:1.988,money:t.commonStake.firstUp},{key:"龙",value:1.988,money:t.commonStake.secondUp},{key:"龙",value:1.988,money:t.commonStake.thirdUp},{key:"龙",value:1.988,money:t.commonStake.fourthUp},{key:"龙",value:1.988,money:t.commonStake.fifthUp},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:"虎",value:1.988,money:t.commonStake.firstDowm},{key:"虎",value:1.988,money:t.commonStake.secondDowm},{key:"虎",value:1.988,money:t.commonStake.thirdDowm},{key:"虎",value:1.988,money:t.commonStake.fourthDowm},{key:"虎",value:1.988,money:t.commonStake.fifthDowm},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""},{key:"",value:"",money:""}],[{key:1,value:9.94,money:t.appointStakeList[0].first},{key:1,value:9.94,money:t.appointStakeList[0].second},{key:1,value:9.94,money:t.appointStakeList[0].third},{key:1,value:9.94,money:t.appointStakeList[0].fourth},{key:1,value:9.94,money:t.appointStakeList[0].fifth},{key:1,value:9.94,money:t.appointStakeList[0].sixth},{key:1,value:9.94,money:t.appointStakeList[0].seventh},{key:1,value:9.94,money:t.appointStakeList[0].eighth},{key:1,value:9.94,money:t.appointStakeList[0].ninth},{key:1,value:9.94,money:t.appointStakeList[0].tenth}],[{key:2,value:9.94,money:t.appointStakeList[1].first},{key:2,value:9.94,money:t.appointStakeList[1].second},{key:2,value:9.94,money:t.appointStakeList[1].third},{key:2,value:9.94,money:t.appointStakeList[1].fourth},{key:2,value:9.94,money:t.appointStakeList[1].fifth},{key:2,value:9.94,money:t.appointStakeList[1].sixth},{key:2,value:9.94,money:t.appointStakeList[1].seventh},{key:2,value:9.94,money:t.appointStakeList[1].eighth},{key:2,value:9.94,money:t.appointStakeList[1].ninth},{key:2,value:9.94,money:t.appointStakeList[1].tenth}],[{key:3,value:9.94,money:t.appointStakeList[2].first},{key:3,value:9.94,money:t.appointStakeList[2].second},{key:3,value:9.94,money:t.appointStakeList[2].third},{key:3,value:9.94,money:t.appointStakeList[2].fourth},{key:3,value:9.94,money:t.appointStakeList[2].fifth},{key:3,value:9.94,money:t.appointStakeList[2].sixth},{key:3,value:9.94,money:t.appointStakeList[2].seventh},{key:3,value:9.94,money:t.appointStakeList[2].eighth},{key:3,value:9.94,money:t.appointStakeList[2].ninth},{key:3,value:9.94,money:t.appointStakeList[2].tenth}],[{key:4,value:9.94,money:t.appointStakeList[3].first},{key:4,value:9.94,money:t.appointStakeList[3].second},{key:4,value:9.94,money:t.appointStakeList[3].third},{key:4,value:9.94,money:t.appointStakeList[3].fourth},{key:4,value:9.94,money:t.appointStakeList[3].fifth},{key:4,value:9.94,money:t.appointStakeList[3].sixth},{key:4,value:9.94,money:t.appointStakeList[3].seventh},{key:4,value:9.94,money:t.appointStakeList[3].eighth},{key:4,value:9.94,money:t.appointStakeList[3].ninth},{key:4,value:9.94,money:t.appointStakeList[3].tenth}],[{key:5,value:9.94,money:t.appointStakeList[4].first},{key:5,value:9.94,money:t.appointStakeList[4].second},{key:5,value:9.94,money:t.appointStakeList[4].third},{key:5,value:9.94,money:t.appointStakeList[4].fourth},{key:5,value:9.94,money:t.appointStakeList[4].fifth},{key:5,value:9.94,money:t.appointStakeList[4].sixth},{key:5,value:9.94,money:t.appointStakeList[4].seventh},{key:5,value:9.94,money:t.appointStakeList[4].eighth},{key:5,value:9.94,money:t.appointStakeList[4].ninth},{key:5,value:9.94,money:t.appointStakeList[4].tenth}],[{key:6,value:9.94,money:t.appointStakeList[5].first},{key:6,value:9.94,money:t.appointStakeList[5].second},{key:6,value:9.94,money:t.appointStakeList[5].third},{key:6,value:9.94,money:t.appointStakeList[5].fourth},{key:6,value:9.94,money:t.appointStakeList[5].fifth},{key:6,value:9.94,money:t.appointStakeList[5].sixth},{key:6,value:9.94,money:t.appointStakeList[5].seventh},{key:6,value:9.94,money:t.appointStakeList[5].eighth},{key:6,value:9.94,money:t.appointStakeList[5].ninth},{key:6,value:9.94,money:t.appointStakeList[5].tenth}],[{key:7,value:9.94,money:t.appointStakeList[6].first},{key:7,value:9.94,money:t.appointStakeList[6].second},{key:7,value:9.94,money:t.appointStakeList[6].third},{key:7,value:9.94,money:t.appointStakeList[6].fourth},{key:7,value:9.94,money:t.appointStakeList[6].fifth},{key:7,value:9.94,money:t.appointStakeList[6].sixth},{key:7,value:9.94,money:t.appointStakeList[6].seventh},{key:7,value:9.94,money:t.appointStakeList[6].eighth},{key:7,value:9.94,money:t.appointStakeList[6].ninth},{key:7,value:9.94,money:t.appointStakeList[6].tenth}],[{key:8,value:9.94,money:t.appointStakeList[7].first},{key:8,value:9.94,money:t.appointStakeList[7].second},{key:8,value:9.94,money:t.appointStakeList[7].third},{key:8,value:9.94,money:t.appointStakeList[7].fourth},{key:8,value:9.94,money:t.appointStakeList[7].fifth},{key:8,value:9.94,money:t.appointStakeList[7].sixth},{key:8,value:9.94,money:t.appointStakeList[7].seventh},{key:8,value:9.94,money:t.appointStakeList[7].eighth},{key:8,value:9.94,money:t.appointStakeList[7].ninth},{key:8,value:9.94,money:t.appointStakeList[7].tenth}],[{key:9,value:9.94,money:t.appointStakeList[8].first},{key:9,value:9.94,money:t.appointStakeList[8].second},{key:9,value:9.94,money:t.appointStakeList[8].third},{key:9,value:9.94,money:t.appointStakeList[8].fourth},{key:9,value:9.94,money:t.appointStakeList[8].fifth},{key:9,value:9.94,money:t.appointStakeList[8].sixth},{key:9,value:9.94,money:t.appointStakeList[8].seventh},{key:9,value:9.94,money:t.appointStakeList[8].eighth},{key:9,value:9.94,money:t.appointStakeList[8].ninth},{key:9,value:9.94,money:t.appointStakeList[8].tenth}],[{key:10,value:9.94,money:t.appointStakeList[9].first},{key:10,value:9.94,money:t.appointStakeList[9].second},{key:10,value:9.94,money:t.appointStakeList[9].third},{key:10,value:9.94,money:t.appointStakeList[9].fourth},{key:10,value:9.94,money:t.appointStakeList[9].fifth},{key:10,value:9.94,money:t.appointStakeList[9].sixth},{key:10,value:9.94,money:t.appointStakeList[9].seventh},{key:10,value:9.94,money:t.appointStakeList[9].eighth},{key:10,value:9.94,money:t.appointStakeList[9].ninth},{key:10,value:9.94,money:t.appointStakeList[9].tenth}]],e.table2=[[{key:"3",value:"41",money:t.commonStake.firstSecond3},{key:"4",value:"41",money:t.commonStake.firstSecond4},{key:"5",value:"21",money:t.commonStake.firstSecond5},{key:"6",value:"21",money:t.commonStake.firstSecond6}],[{key:"7",value:"12",money:t.commonStake.firstSecond7},{key:"8",value:"12",money:t.commonStake.firstSecond8},{key:"9",value:"10.3",money:t.commonStake.firstSecond9},{key:"10",value:"10.3",money:t.commonStake.firstSecond10}],[{key:"11",value:"8.3",money:t.commonStake.firstSecond11},{key:"12",value:"10.3",money:t.commonStake.firstSecond12},{key:"13",value:"10.3",money:t.commonStake.firstSecond13},{key:"14",value:"12",money:t.commonStake.firstSecond14}],[{key:"15",value:"12",money:t.commonStake.firstSecond15},{key:"16",value:"21",money:t.commonStake.firstSecond16},{key:"17",value:"21",money:t.commonStake.firstSecond17},{key:"18",value:"41",money:t.commonStake.firstSecond18}],[{key:"19",value:"12",money:t.commonStake.firstSecond19},{key:"",value:""},{key:"",value:""},{key:"",value:""}],[{key:"冠亚大",value:"2",money:t.commonStake.firstSecondBig},{key:"冠亚小",value:"1.63",money:t.commonStake.firstSecondSmall},{key:"冠亚单",value:"1.63",money:t.commonStake.firstSecondOdd},{key:"冠亚双",value:"2",money:t.commonStake.firstSecondOdd}]]}e.type=t.type,e.dateIssue=t.category;var s="";"byDate"==e.type&&(s="http://60.205.163.65:8080/user/stake/day/info?day="+e.dateIssue),"byIssue"==e.type&&(s="http://60.205.163.65:8080/user/stake/racingnum/info?racingNum="+e.dateIssue),i(s,null),a({url:s,method:"get"}).then(function(t){var a=t.data;return"NO_LOGIN"==a.result?void $state.go("login"):"ERROR"==a.result?void alert(a.message):("byIssue"==e.type&&(e.lotteryRestut=a.data.result?a.data.result.join(""):""),e.money=a.data.stakeAmount,e.number=a.data.stakeCount,e.fitloss=a.data.stakeAmount,e.allfitloss=a.data.deficitAmount,e.income=a.data.incomeAmount,void r(a.data.stakeVo))},function(){alert("请求失败，请重试或缺失必要内容")})}]),myApp.controller("userCtrl",["$scope","$location",function(e,t){e.selectClass=t.path().substr(1)}]).controller("allUserCtrl",["$scope","$http","encrypt","localStorageService",function(e,t,a,n){function o(e,t){var o=a.getAuthor(e,t,n.get("secretKey"));n.set("Authorization",o),n.set("Accesskey",n.get("Accesskey"))}e.text="查看修改个人信息",e.nickname="",e.password="",e.modify=function(){o("http://60.205.163.65:8080/user/",{nickName:e.nickname,password:e.password}),t({url:"http://60.205.163.65:8080/user/",method:"put",data:{nickName:e.nickname,password:e.password}}).then(function(e){var t=e.data;"ERROR"==t.result&&alert(t.message),"SUCCESS"==t.result&&alert("操作成功")},function(){alert("请求失败，请重试或缺失必要内容")})}}]),myApp.directive("clearTd",function(){return{restrict:"A",link:function(e,t){$(t).on("click",function(){$(".table-box td").removeClass("selected")})}}}),myApp.directive("myTd",function(){return{restrict:"A",scope:{flag:"@",row:"=",selectedObj:"=",code:"@",value:"@"},template:'<div class="item-td"><p class="item-code">{{ flag=="true" ? row.codeName : value }}</p><p class="item-value">{{ flag=="true" ? row.codeValue : row.codeValue[code]}}</p></div>',link:function(e,t,a){$(t).on("click",function(){var t=a.key,n=a.rank,o=e.code,i=a.tab,r=a.trid;$(".table-box").hasClass("disabled")||"firstSecond20"!=o&&"firstSecond21"!=o&&"firstSecond22"!=o&&($(this).hasClass("selected")?($(this).removeClass("selected"),"true"==e.flag?delete e.selectedObj[t+"-"+n+"-"+r+"-"+i]:delete e.selectedObj[t+"-"+o+"-"+i]):($(this).addClass("selected"),"true"==e.flag?e.selectedObj[t+"-"+n+"-"+r+"-"+i]=!0:e.selectedObj[t+"-"+o+"-"+i]=!0))})}}}),myApp.directive("navHeader",function(){return{restrict:"AE",scope:{nowSelsect:"@selectActive",realtimeSelsect:"@realtimeActive"},templateUrl:"./templates/nav/nav.html"}}),myApp.directive("goback",function(){return{restrict:"A",link:function(e,t){$(t).on("click",function(){window.history.back()})}}}),myApp.directive("tabActive",function(){return{restrict:"A",link:function(e,t,a){$(t).on("click",function(e){$(t).siblings("li").removeClass("active"),$(this).addClass("active")})}}}),myApp.factory("encrypt",["$location","sha1",function(e,t){function a(e,t){var a=e.split("//"),n={},o=a[1].indexOf("/"),i=a[1].substring(o),r="";if(r=i.indexOf("?")!=-1?i.split("?")[0]:i,e.indexOf("?")!=-1){var s="?"+i.split("?")[1],u=s.substr(1);strs=u.split("&");for(var l=0;l<strs.length;l++)n[strs[l].split("=")[0]]=unescape(strs[l].split("=")[1])}return{url:e,domain:a[1].substring(0,o),path:r,searchObj:n,params:t}}return{getAuthor:function(e,n,o){var i=a(e,n);angular.isObject(i.params)&&(i.searchObj.requestBody=JSON.stringify(i.params));var r=[];angular.forEach(i.searchObj,function(e,t){r.push(t)}),r.sort();var s="";return angular.forEach(r,function(e,t){s+=i.searchObj[e]}),t.hash(i.path+s+o).toUpperCase()}}}]),myApp.factory("HttpInterceptor",["$q","$injector","localStorageService",function(e,t,a){return{request:function(e){return e.url.indexOf("/user/members/nicname?nicName=")>0?$(".loading-mask").hide():$(".loading-mask").show(),a.get("Authorization")&&(e.headers.Authorization=a.get("Authorization"),e.headers.Accesskey=a.get("Accesskey")),e},requestError:function(t){return $(".loading-mask").hide(),e.reject(t)},response:function(e){return"NO_LOGIN"===e.data.result&&(a.clearAll(),t.get("$state").transitionTo("login")),$(".loading-mask").hide(),e},responseError:function(t){return console.log(t,"response err"),$(".loading-mask").hide(),e.reject(t)}}}]),myApp.filter("toMinSec",function(){return function(e){if(e<0)return"00:00";var t=e/1e3,a=parseInt(t/60),n=parseInt(t%60);return a<10&&(a="0"+a),n<10&&(n="0"+n),a+":"+n}}),myApp.filter("splitArrFilter",function(){return function(e){if("object"==typeof e){for(var t="",a=0;a<e.length;a++)t+=0===a?e[a]:'<span class="paddingTips">|</span>'+e[a];return t}return e}}),myApp.factory("makeSendData",function(){return{makeParams:function(e,t,a){var n=["big","small","odd","even"],o=["firstUp","secondUp","thirdUp","fourthUp","fifthUp"],i=["firstDowm","secondDowm","thirdDowm","fourthDowm","fifthDowm"],r=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth"];return a=parseInt(a),angular.forEach(t,function(t,s){var u=s.split("-"),l="",y="",m="";if("tab1"==u[3])switch(l=u[0],y=u[1],m=u[2],parseInt(m)){case 1:case 2:case 3:case 4:e[l][y-1][n[m-1]]=a;break;case 5:e[l][o[y-1]]=a;break;case 6:e[l][i[y-1]]=a;break;default:e[l][m-7][r[y-1]]=a}else if("tab2"==u[3])switch(l=u[0],y=u[1],m=u[2],parseInt(m)){case 1:case 2:case 3:case 4:e[l][y-1][n[m-1]]=a;break;default:e[l][m-5][r[y-1]]=a}else{var c=u[0],k=u[1];e[c][k]=a}}),e}}}),myApp.factory("initSendData",function(){return{init:function(e){return $.each(e,function(e,t){switch(e){case"commonStake":$.each(t,function(e,a){t[e]=0});break;case"appointStakeList":case"rankingStakeList":$.each(t,function(e,t){$.each(t,function(e,a){"carNum"!==e&&"rankingNum"!==e&&(t[e]=0)})});break;default:return!1}}),e}}}),myApp.factory("baseData",function(){return{tab1:[{codeName:"大",codeValue:1.988,key:"rankingStakeList",className:"bgColor-1"},{codeName:"小",codeValue:1.988,key:"rankingStakeList",className:"bgColor-1"},{codeName:"单",codeValue:1.988,key:"rankingStakeList",className:"bgColor-1"},{codeName:"双",codeValue:1.988,key:"rankingStakeList",className:"bgColor-1"},{codeName:"龙",codeValue:1.988,key:"commonStake",className:"bgColor-1"},{codeName:"虎",codeValue:1.988,key:"commonStake",className:"bgColor-1"},{codeName:"1",codeValue:9.94,key:"appointStakeList"},{codeName:"2",codeValue:9.94,key:"appointStakeList"},{codeName:"3",codeValue:9.94,key:"appointStakeList"},{codeName:"4",codeValue:9.94,key:"appointStakeList"},{codeName:"5",codeValue:9.94,key:"appointStakeList"},{codeName:"6",codeValue:9.94,key:"appointStakeList"},{codeName:"7",codeValue:9.94,key:"appointStakeList"},{codeName:"8",codeValue:9.94,key:"appointStakeList"},{codeName:"9",codeValue:9.94,key:"appointStakeList"},{codeName:"10",codeValue:9.94,key:"appointStakeList"}],tab2:[{codeName:"大",codeValue:1.988,key:"rankingStakeList"},{codeName:"小",codeValue:1.988,key:"rankingStakeList"},{codeName:"单",codeValue:1.988,key:"rankingStakeList"},{codeName:"双",codeValue:1.988,key:"rankingStakeList"},{codeName:"1",codeValue:9.94,key:"appointStakeList"},{codeName:"2",codeValue:9.94,key:"appointStakeList"},{codeName:"3",codeValue:9.94,key:"appointStakeList"},{codeName:"4",codeValue:9.94,key:"appointStakeList"},{codeName:"5",codeValue:9.94,key:"appointStakeList"},{codeName:"6",codeValue:9.94,key:"appointStakeList"},{codeName:"7",codeValue:9.94,key:"appointStakeList"},{codeName:"8",codeValue:9.94,key:"appointStakeList"},{codeName:"9",codeValue:9.94,key:"appointStakeList"},{codeName:"10",codeValue:9.94,key:"appointStakeList"}],tab3:[{codeName:{firstSecond3:3,firstSecond4:4,firstSecond5:5,firstSecond6:6},codeValue:{firstSecond3:41,firstSecond4:41,firstSecond5:21,firstSecond6:21}},{codeName:{firstSecond7:7,firstSecond8:8,firstSecond9:9,firstSecond10:10},codeValue:{firstSecond7:12,firstSecond8:12,firstSecond9:10.3,firstSecond10:10.3}},{codeName:{firstSecond11:11,firstSecond12:12,firstSecond13:13,firstSecond14:14},codeValue:{firstSecond11:8.3,firstSecond12:10.3,firstSecond13:10.3,firstSecond14:12}},{codeName:{firstSecond15:15,firstSecond16:16,firstSecond17:17,firstSecond18:18},codeValue:{firstSecond15:12,firstSecond16:21,firstSecond17:21,firstSecond18:41}},{codeName:{firstSecond19:19,firstSecond20:"",firstSecond21:"",firstSecond22:""},codeValue:{firstSecond19:41,firstSecond20:"",firstSecond21:"",firstSecond22:""}},{codeName:{firstSecondBig:"冠亚大",firstSecondSmall:"冠亚小",firstSecondOdd:"冠亚单",firstSecondEven:"冠亚双"},codeValue:{firstSecondBig:2,firstSecondSmall:1.63,firstSecondOdd:1.63,firstSecondEven:2}}],sendData:{commonStake:{firstUp:0,firstDowm:0,secondUp:0,secondDowm:0,thirdUp:0,thirdDowm:0,fourthUp:0,fourthDowm:0,fifthUp:0,fifthDowm:0,firstSecondOdd:0,firstSecondEven:0,firstSecondBig:0,firstSecondSmall:0,firstSecond3:0,firstSecond4:0,firstSecond5:0,firstSecond6:0,firstSecond7:0,firstSecond8:0,firstSecond9:0,firstSecond10:0,firstSecond11:0,firstSecond12:0,firstSecond13:0,firstSecond14:0,firstSecond15:0,firstSecond16:0,firstSecond17:0,firstSecond18:0,firstSecond19:0},appointStakeList:[{carNum:1,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:2,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:3,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:4,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:5,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:6,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:7,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:8,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:9,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0},{carNum:10,first:0,second:0,third:0,fourth:0,fifth:0,sixth:0,seventh:0,eighth:0,ninth:0,tenth:0}],rankingStakeList:[{rankingNum:1,big:0,small:0,odd:0,even:0},{rankingNum:2,big:0,small:0,odd:0,even:0},{rankingNum:3,big:0,small:0,odd:0,even:0},{rankingNum:4,big:0,small:0,odd:0,even:0},{rankingNum:5,big:0,small:0,odd:0,even:0},{rankingNum:6,big:0,small:0,odd:0,even:0},{rankingNum:7,big:0,small:0,odd:0,even:0},{rankingNum:8,big:0,small:0,odd:0,even:0},{rankingNum:9,big:0,small:0,odd:0,even:0},{rankingNum:10,big:0,small:0,odd:0,even:0}]}}});